Masuk ke **Stage 3**. Ini adalah materi yang membedakan "Admin Jaringan Biasa" dengan "Network Engineer".

Siap pusing sedikit? Tenang, obatnya ada di analogi.

-----

## STAGE 3: The GPS System (Dynamic Routing - OSPF)

### üß† Logika Dasar: Kenapa Manual itu Neraka?

Bayangkan kamu admin jaringan untuk **Indomaret** se-Indonesia. Ada 10.000 cabang.
Kalau pakai cara Stage 2 (Static Routing/Manual), setiap ada cabang baru buka, kamu harus login ke 10.000 router lain untuk ngetik: *"Eh, ada jalan baru nih ke cabang X"*. Tanganmu putus, bos marah.

**Solusinya: OSPF (Open Shortest Path First)**
Ini adalah **Waze / Google Maps** versi Router.

1.  **Router Gosip (Hello Packet):** Router R1 bilang ke R2: *"Bro, gue punya jalan ke Network A loh."*
2.  **Tukar Peta (LSA):** R2 bilang: *"Oke, gue catet. Gue punya jalan ke Network B."*
3.  **Kalkulasi (SPF Algorithm):** Kalau jalan putus, mereka otomatis cari jalan tikus. Gak perlu nelpon kamu tengah malam.

-----

### üõ†Ô∏è Lab Time: The Triangle of Trust (Segitiga Emas)

Kita akan pakai teknik **"Loopback Interface"**.

  * *Tips Pro:* Di lab routing canggih, kita malas narik VPCS banyak-banyak. Kita buat **Interface Hantu** (Loopback) di dalam router sebagai simulasi LAN/PC.
  * Anggap Loopback 1.1.1.1 itu adalah "Network Kantor Pusat" di belakang Router 1.

#### Langkah 1: Bangun Topologi Segitiga

1.  Tarik **3 Router c3725** (R1, R2, R3).
2.  Hubungkan kabel membentuk **Segitiga**:
      * **R1 f0/0** \<--\> **R2 f0/0**
      * **R2 f0/1** \<--\> **R3 f0/0**
      * **R3 f0/1** \<--\> **R1 f0/1**
3.  Nyalakan semua\!

#### Langkah 2: Setting IP Address (Jalan Raya & Rumah Hantu)

Kita butuh perencanaan IP yang rapi. Ini standar lab internasional biar gak bingung:

  * **Antara R1-R2:** `12.12.12.0/24` (R1=.1, R2=.2)
  * **Antara R2-R3:** `23.23.23.0/24` (R2=.2, R3=.3)
  * **Antara R3-R1:** `13.13.13.0/24` (R3=.3, R1=.1)
  * **Loopback (Simulasi PC):**
      * R1: `1.1.1.1/32`
      * R2: `2.2.2.2/32`
      * R3: `3.3.3.3/32`

**Konfigurasi R1:**

```bash
enable
```
```bash
configure terminal
```
**! Setting Interface Fisik**
```bash
interface fastEthernet 0/0
```
```bash
 ip address 12.12.12.1 255.255.255.0
 ```
```bash
 no shutdown
```
```bash
interface fastEthernet 0/1
```
```bash
 ip address 13.13.13.1 255.255.255.0
```
```bash
 no shutdown
```
**! Setting Interface Hantu (Loopback)**
```bash
interface loopback 0
```
```bash
 ip address 1.1.1.1 255.255.255.255
```
```bash
end
```

*(Lakukan pola yang sama untuk R2 dan R3 sesuai IP plan di atas. Jangan sampai salah angka\!)*

#### Langkah 3: Mengaktifkan "Google Maps" (OSPF)

Sekarang, router-router ini masih "bisu". R1 tidak tahu cara ke 2.2.2.2 (milik R2). Kita aktifkan OSPF.

**Di R1:**

```bash
configure terminal
```
```bash
router ospf 1
```
```bash
 network 12.12.12.0 0.0.0.255 area 0
```
```bash
 network 13.13.13.0 0.0.0.255 area 0
```
```bash
 network 1.1.1.1 0.0.0.0 area 0
```
```bash
end
```
```bash
copy running-config startup-config
```
```bash
write
```

*Penjelasan Mantra:*

  * `router ospf 1`: Menyalakan aplikasi OSPF proses nomor 1.
  * `network [IP] [WILDCARD] area 0`: "Tolong iklankan jalan ini ke teman-teman di area pusat (0)".
  * *Wildcard Mask:* Kebalikan Subnet Mask. Kalau `/24` (255.255.255.0) jadinya `0.0.0.255`. Kalau single IP `/32`, jadinya `0.0.0.0`.

**Di R2:**

```bash
configure terminal
```
```bash
router ospf 1
```
```bash
 network 12.12.12.0 0.0.0.255 area 0
```
```bash
 network 23.23.23.0 0.0.0.255 area 0
```
```bash
 network 2.2.2.2 0.0.0.0 area 0
```
```bash
end
```
```bash
copy running-config startup-config
```
```bash
write
```

*Tunggu sebentar... akan muncul pesan "OSPF-5-ADJCHG: Process 1, Nbr ... on FastEthernet0/0 from LOADING to FULL".*
**Artinya:** "Hore\! Aku baru jadian (kenalan) sama R1\!"

**Di R3:**

```bash
configure terminal
```
```bash
router ospf 1
```
```bash
 network 23.23.23.0 0.0.0.255 area 0
```
```bash
 network 13.13.13.0 0.0.0.255 area 0
```
```bash
 network 3.3.3.3 0.0.0.0 area 0
```
```bash
end
```
```bash
copy running-config startup-config
```
```bash
write
```

-----

### üïµÔ∏è‚Äç‚ôÇÔ∏è Verification & Destruction Test (Ini Bagian Serunya\!)

#### 1\. Cek Tabel Routing

Di **R1**, ketik:

```bash
show ip route
```

Cari kode **`O`** (OSPF).
Kamu harusnya melihat:
`O 2.2.2.2 [110/2] via 12.12.12.2 ...`
`O 3.3.3.3 [110/2] via 13.13.13.3 ...`

*Artinya:* R1 tahu 2.2.2.2 punya R2, dan 3.3.3.3 punya R3, tanpa kita input manual\!

#### 2\. Uji Redundansi (Jalan Tikus)

Sekarang kita buktikan kecerdasan OSPF.

1.  Di **R1**, ping ke Loopback R2 secara terus menerus:

    ```bash
    ping 2.2.2.2 repeat 1000
    ```

    *(Akan muncul `!!!!!` yang banyak)*

2.  **SAAT PING BERJALAN**, arahkan mouse ke kabel antara **R1 dan R2**, klik kanan -\> **Delete** (atau Shutdown interface di console).

      * *Skenario:* Kabel digigit tikus / putus.

3.  **Lihat Console R1:**

      * Ping mungkin akan putus sebentar (`. . . .`).
      * Tapi tiba-tiba nyambung lagi (`! ! ! !`).

**Analisis:**
Saat jalur utama (R1-R2) putus, OSPF di R1 berpikir cepat:
*"Waduh, jalan ke R2 putus\! Tapi tunggu... gue bisa ke R2 lewat R3 (muter)\!"*
Maka paket akan dikirim R1 -\> R3 -\> R2.

-----

### üö¶ Misi Stage 3

Lakukan **"Destruction Test"** tadi.
Kalau kamu berhasil melihat ping putus lalu nyambung lagi secara otomatis setelah kabel diputus, kamu sudah menguasai konsep **High Availability**.

Gimana? Berhasil bikin "Internet Anti Padam" di lab kamu? Kalau sudah, kita lanjut ke **Stage 4** untuk belajar jadi Satpam Galak (Access List/Security).